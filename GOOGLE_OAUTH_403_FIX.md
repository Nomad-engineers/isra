# üö® Google OAuth 403 Error Fix

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
```
The given origin is not allowed for the given client ID.
GET https://accounts.google.com/gsi/status?client_id=... 403 (Forbidden)
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### 1. Google Cloud Console –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/):

1. **APIs & Services** ‚Üí **Credentials**
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à Client ID: `673993847428-0eo30q2tttk7hajf5cfhrmvs9v03jqll.apps.googleusercontent.com`
3. –ù–∞–∂–º–∏—Ç–µ **Edit** (–∫–∞—Ä–∞–Ω–¥–∞—à)
4. –í —Ä–∞–∑–¥–µ–ª–µ **Authorized JavaScript origins** –¥–æ–±–∞–≤—å—Ç–µ:

```
http://localhost:3000
http://127.0.0.1:3000
http://localhost:3001
http://127.0.0.1:3001
```

5. –í —Ä–∞–∑–¥–µ–ª–µ **Authorized redirect URIs** –¥–æ–±–∞–≤—å—Ç–µ:
```
http://localhost:3000
```

6. –ù–∞–∂–º–∏—Ç–µ **Save**

### 2. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

#### ‚úÖ API –≤–∫–ª—é—á–µ–Ω—ã:
–í **APIs & Services** ‚Üí **Library** —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω—ã:
- **Google Identity Services API**
- **People API**

#### ‚úÖ OAuth Consent Screen –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
–í **APIs & Services** ‚Üí **OAuth consent screen**:
- Application type: **Web application**
- User type: **External**
- Scopes: **email**, **profile**, **openid**

#### ‚úÖ Client ID –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π:
```
673993847428-0eo30q2tttk7hajf5cfhrmvs9v03jqll.apps.googleusercontent.com
```

### 3. –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

**–í–ê–ñ–ù–û:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ **5-10 –º–∏–Ω—É—Ç** –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ Google Cloud Console.

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
npm run dev
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/auth/login`
- –ù–∞–∂–º–∏—Ç–µ "Continue with Google"
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è Google OAuth popup

## üîß –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç
```bash
npm run dev -- --port 3000
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ:
```javascript
// –í –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏
console.log('Current origin:', window.location.origin)
console.log('Expected origin: http://localhost:3000')
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π OAuth 2.0 Client ID –≤ Google Cloud Console —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

## üêõ –û—Ç–ª–∞–¥–∫–∞:

–Ø —Å–æ–∑–¥–∞–ª —É–ª—É—á—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é Google OAuth (`google-oauth-fixed.ts`) –∫–æ—Ç–æ—Ä–∞—è:

- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π origin
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Google API –ø–µ—Ä–µ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—à–∏–±–∫–µ 403 –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ç–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é!

## üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞:

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `http://localhost:3000` –≤ Authorized JavaScript origins
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `http://localhost:3000` –≤ Authorized redirect URIs
3. ‚úÖ –í–∫–ª—é—á–∏—Ç—å Google Identity Services API
4. ‚úÖ –í–∫–ª—é—á–∏—Ç—å People API
5. ‚úÖ –ü–æ–¥–æ–∂–¥–∞—Ç—å 5-10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
6. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev`

---

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ Google OAuth –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üöÄ